---
layout: post
title:  "Final Year Project: Mining of Transportation Data"
date:   2021-06-29 18:01:52 +0800
category: profolio
---

## 1. Reason for doing this project
Traffic Congestion is a typical problem in Hong Kong. During the peak hours in Cross Harbour Tunnels, there are numerous cars moving at a slower speed. When there are some accidents happening in MTR, the situation becomes worse due to more people taking the bus instead. The objective of this project is to analyze the mobility trace data of buses using machine learning and optimize the route planning.

(insert some photo in there)


- Identify the problem from the dataset
- Verify the weighted bus network
- Simulation

## 2. Techniques Used
Powershell

### 2.1 Machine Learning for Classification and Regression

[scikit-learn](https://scikit-learn.org/stable/) is a useful library for classification especially for K - Nearest Neighbour (K-NN) and Support Vector Machine (SVM)

The reason why using KNN is to classify the travelling time for each routes belong to peak hours or non-peak hours. To classify the data for training, the lower quarter will be regarded as the sample of normal travelling time while the higher quarter data will be regarded as the sample of congestion period. For the remaining, it is used for testing to classify its group. For k-nearest neighbours, it depends on the sample size. Here is the working flow:

First, 30% of data will be labelled as peak-hours and non-peak hours

```python
import csv
def loadDataSet(filename,training=[],testset=[]):
    with open(filename, 'r') as csvfile:
        lines = csv.reader(csvfile)
        dataset = list(lines)
        for x in range(len(dataset)):
            for y in range(3):
                if dataset[x][y] == "":
                    testSet.append(dataset[x])
                elif y == 2:
                    trainingSet.append(dataset[x])

```
Second, Calculate the Euclidean Distance between the data

```python
import math
def euclideanDistance(in1, in2, length):
    distance = 0
    for x in range(length):
        distance += pow((float(in1[x])-float(in2[x])), 2)
    return math.sqrt(distance)
```
Third, Get Neighbors 

```python
import operator
def getNeighbors(trainSet, testInstance, k):
    distances = []
    length = len(testInstance)-1
    for x in range(len(trainSet)):
        dist = euclideanDistance(testInstance, trainSet[x], length)
        distances.append((trainSet[x], dist))
    distances.sort(key=operator.itemgetter(1))
    neighbors = []
    for x in range(k):
        neighbors.append(distances[x][0])
    return neighbors    
```
Then, Get Response

```python
import operator
def getResponse(neighbors):
    classVotes = {}
    for x in range(len(neighbors)):
        response = neighbors[x][-1]
        if response in classVotes:
            classVotes[response] += 1
        else:
            classVotes[response] = 1
    sortedVotes = sorted(classVotes.items(), key=operator.itemgetter(1), reverse=True)
    return sortedVotes[0][0]    
```
Finally, Output the result

```python
Train: 971
Test: 592
```

### 2.2 Powershell for Extracting data


### 2.3 Simulation tools

[SUMO](https://sumo.dlr.de/docs/Simulation/Public_Transport.html) is a simulation tools for public transportation.

## Verification of Result
Compare empricial data and 

## Simualation Result

## Further Development


### Awards

[Third Class](https://www.polyu.edu.hk/eie/about-us/news-events/289-our-beng-in-eie-graduate-lam-lai-ying-won-the-third-class-award-in-the-pan-pearl-river-delta-region-it-project-competition-2020/)

Technical Excellence Award